[nmsagent_getApplicationPeers]
action.email.inline = 1
action.script = 1
action.script.filename = build_sla_table.sh
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */1 * * * *
dispatch.earliest_time = -5m@m
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index=f5_traffix_nmsagent sourcetype=F5_Traffix_nmsagent OR sourcetype=F5_Traffix_nmsagentpeers typename=peer OR typename=1 nodename!=null | inputlookup append=t appPeers|dedup sitename,nodename,nodetype,elementname|table sitename,nodename,nodetype,elementname|outputlookup appPeers

[nmsagent_getSystemHosts]
action.email.inline = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */1 * * * *
dispatch.earliest_time = -5m@m
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index=f5_traffix_nmsagent sourcetype=F5_Traffix_nmsagent typename=host OR typename=21|inputlookup append=t sysHosts|stats count by sitename,elementname|table sitename,elementname|outputlookup sysHosts

[nmsagent_getTripoHosts]
action.email.inline = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */1 * * * *
dispatch.earliest_time = -5m@m
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index=f5_traffix_nmsagent sourcetype=F5_Traffix_nmsagent typename=tripo OR typename=24|inputlookup append=t tripoHosts|dedup sitename,elementname|table sitename,elementname|outputlookup tripoHosts

[nmsagent_getApplicationMessagesPeers]
action.email.inline = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */1 * * * *
dispatch.earliest_time = -5m@m
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index="f5_traffix_nmsagent" sourcetype="F5_Traffix_nmsagent" OR sourcetype=F5_Traffix_nmsagentpeers AND (name="PeerRemoteNodeEvents*" OR subline="*:*") NOT [|inputlookup appPeers|search nodetype=FEP OR nodetype=1|dedup nodename|rename nodename AS elementname|table elementname]|eval subline=if(subline!="",subline,name+":"+parentname+":"+RECORD_VALUE)|table elementname,parentname,subline|mvexpand subline|rex field=subline "(?<name>[\w\-\.]+):(?<parentname>[\w\-\.\*\/ ]*):(?<RECORD_VALUE>[\.0-9]*)"|search name="PeerRemoteNodeEvents*" OR name="1" OR name="2" OR name="3" OR name="4" OR name="5" OR name="6" OR name="7" OR name="8" OR name="9"|inputlookup append=t appMessagsPeers|dedup elementname parentname|sort elementname,parentname|table elementname,parentname|outputlookup appMessagsPeers


[roaming_getMessageType]
action.email.inline = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */1 * * * *
dispatch.earliest_time = -20m@m
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index=f5_traffix_roaming_aggregated|stats count by CMD_Code|table CMD_Code,count|inputlookup append=t roamingMessageType|dedup CMD_Code|sort CMD_Code|outputlookup roamingMessageType

[roaming_getOriginAndDestination]
action.email.inline = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */1 * * * *
dispatch.earliest_time = -20m@m
dispatch.latest_time = now
enableSched = 1
realtime_schedule = 0
search = index=f5_traffix_roaming_aggregated|table Origin_Realm Origin_Host Destination_Realm Destination_Host|inputlookup append=t roamingOriginAndDestination|dedup Origin_Realm Origin_Host Destination_Realm Destination_Host|sort Origin_Realm Origin_Host Destination_Realm Destination_Host|outputlookup roamingOriginAndDestination

[dboard_totalHealth]
action.email.inline = 1
alert.digest_mode = True
alert.expires = 2m
alert.suppress = 0
alert.track = 1
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */5 * * * *
dispatch.earliest_time = rt-2m@m
dispatch.latest_time = rt
enableSched = 1
search = index=f5_traffix_nmsagent sourcetype=F5_Traffix_nmsagent typename=Service OR typename=22|dedup sitename,elementname,name,parentname|chart sum(eval(statuscode="OK")) AS Ok,sum(eval(statuscode="WARNING")) AS Warning, sum(eval(statuscode="CRITICAL")) AS Critical,sum(eval(statuscode="NA")) AS NA by statuscode

[dboard_receivedSentMessages]
action.email.inline = 1
alert.digest_mode = True
alert.expires = 2m
alert.suppress = 0
alert.track = 1
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */5 * * * *
dispatch.earliest_time = rt-2m@m
dispatch.latest_time = rt
enableSched = 1
#search = index=f5_traffix_nmsagent sourcetype=nmsagent typename=PEER nodetype=CPF (name=PeerReceivedMessages OR name=PeerSentMessages)|stats sum(RECORD_VALUE) AS Summary by name|replace PeerReceivedMessages WITH "Received" PeerSentMessages WITH "Sent"
#search = index=f5_traffix_nmsagent sourcetype=nmsagent typename=PEER (nodetype=FEP AND name=PeerReceivedMessagesBeforeReadLimitDiscard) OR (nodetype=CPF AND name=PeerSentMessages  NOT [|inputlookup appPeers|search nodetype=FEP|dedup nodename|rename nodename AS elementname|table elementname])|eval RECORD_VALUE=round(RECORD_VALUE/60)|stats sum(RECORD_VALUE) AS Summary by name|replace PeerReceivedMessagesBeforeReadLimitDiscard WITH "Received" PeerSentMessages WITH "Sent"
#search = index=f5_traffix_nmsagent sourcetype=nmsagent typename=PEER nodetype=CPF (name=PeerReceivedMessages OR name=PeerSentMessages)  NOT [|inputlookup appPeers|search nodetype=FEP|dedup nodename|rename nodename AS elementname|table elementname]|eval RECORD_VALUE=round(RECORD_VALUE/60)|stats sum(RECORD_VALUE) AS Summary by name|replace PeerReceivedMessages WITH "Received" PeerSentMessages WITH "Sent"
#search = index=f5_traffix_nmsagent sourcetype=nmsagent typename=PEER nodetype=CPF (name=PeerReceivedMessages OR name=PeerSentMessages)  NOT [|inputlookup appPeers|search nodetype=FEP|dedup nodename|rename nodename AS elementname|table elementname]|eval RECORD_VALUE=round(RECORD_VALUE/60)|timechart cont=f sum(RECORD_VALUE) by name|head 1|rename PeerReceivedMessages AS "Received" PeerSentMessages AS "Sent"
#search = index=f5_traffix_nmsagent typename=PEER OR typename=1 nodetype=CPF OR nodetype=2 (name=PeerReceivedMessages OR name=PeerSentMessages OR subline="*:*") NOT [|inputlookup append=t appPeers|search nodetype=FEP OR nodetype=1|dedup nodename|rename nodename AS elementname|table elementname]|eval subline=if(subline!="",subline,name+":"+PARENTNAME+":"+RECORD_VALUE)|table _time,name,RECORD_VALUE,subline|mvexpand subline|rex field=subline "(?<name>[\w\-\.]+):(?<parentname>[\w\-\.\/ ]*):(?<RECORD_VALUE>[\.0-9]*)"|search name=PeerReceivedMessages OR name=PeerSentMessages OR name=12 OR name=10|eval RECORD_VALUE=round(RECORD_VALUE/60)|timechart cont=f sum(RECORD_VALUE) by name|head 1|rename PeerReceivedMessages AS "Received" PeerSentMessages AS "Sent" 12 AS Received 10 AS Sent
search = index=f5_traffix_nmsagent typename=PEER OR typename=1 nodetype=CPF OR nodetype=2 (name=PeerReceivedMessages OR name=PeerSentMessages OR subline="*:*") NOT [|inputlookup append=t appPeers|search nodetype=FEP OR nodetype=1|dedup nodename|rename nodename AS elementname|table elementname]|eval subline=if(subline!="",subline,name+":"+PARENTNAME+":"+RECORD_VALUE)|fields _time,sitename,elementname,nodename,name,parentname,RECORD_VALUE,subline|mvexpand subline|rex field=subline "(?<name>[\w\-\.]+):(?<parentname>[\w\-\.\*\/ ]*):(?<RECORD_VALUE>[\.0-9]*)"|search name=PeerReceivedMessages OR name=PeerSentMessages OR name=12 OR name=10|eval all=sitename+elementname+nodename+name+parentname|eval RECORD_VALUE=RECORD_VALUE/60|stats first(RECORD_VALUE) AS value by name all|stats sum(value) AS summary by name|eval summary=round(summary,0)|replace PeerReceivedMessages WITH "Received" PeerSentMessages WITH "Sent" 12 WITH Received 10 WITH Sent in name

[dboard_globalMessagesPerSecond]
action.email.inline = 1
alert.digest_mode = True
alert.expires = 2m
alert.suppress = 0
alert.track = 1
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */5 * * * *
dispatch.earliest_time = rt-2m@m
dispatch.latest_time = rt
enableSched = 1
#search = index=f5_traffix_nmsagent sourcetype=nmsagent name=PeerReceivedMessages OR name=PeerSentMessages nodetype=CPF [|inputlookup append=t appPeers|dedup nodename|table nodename|rename nodename AS elementname]|eval RECORD_VALUE=round(RECORD_VALUE/60)|timechart span=20 sum(RECORD_VALUE) AS t_summary| streamstats global=f current=t min(t_summary) AS summary |tail 5|head 1|table summary
#search = index=f5_traffix_nmsagent typename=PEER OR typename=1 nodetype=CPF OR nodetype=2 (name=PeerReceivedMessages OR name=PeerSentMessages OR subline="*:*") NOT [|inputlookup append=t appPeers|search nodetype=FEP OR nodetype=1|dedup nodename|rename nodename AS elementname|table elementname]|eval subline=if(subline!="",subline,name+":"+PARENTNAME+":"+RECORD_VALUE)|table _time,name,RECORD_VALUE,subline|mvexpand subline|rex field=subline "(?<name>[\w\-\.]+):(?<parentname>[\w\-\.\/ ]*):(?<RECORD_VALUE>[\.0-9]*)"|search name=PeerReceivedMessages OR name=PeerSentMessages OR name=12 OR name=10|eval RECORD_VALUE=round(RECORD_VALUE/60)|timechart span=20 sum(RECORD_VALUE) AS t_summary|streamstats global=f current=t min(t_summary) AS summary |tail 5|head 1|table summary
search = index=f5_traffix_nmsagent typename=PEER OR typename=1 nodetype=CPF OR nodetype=2 (name=PeerReceivedMessages OR name=PeerSentMessages OR subline="*:*") NOT [|inputlookup append=t appPeers|search nodetype=FEP OR nodetype=1|dedup nodename|rename nodename AS elementname|table elementname]|eval subline=if(subline!="",subline,name+":"+PARENTNAME+":"+RECORD_VALUE)|fields _time,sitename,elementname,nodename,name,RECORD_VALUE,subline|mvexpand subline|rex field=subline "(?<name>[\w\-\.]+):(?<parentname>[\w\-\.\*\/ ]*):(?<RECORD_VALUE>[\.0-9]*)"|search name=PeerReceivedMessages OR name=PeerSentMessages OR name=12 OR name=10|eval all=sitename+elementname+nodename+name+parentname|eval RECORD_VALUE=RECORD_VALUE/60|stats first(RECORD_VALUE) AS value  by all|stats sum(value) AS global|eval global=round(global,0)


[dboard_successVsTotalMessages]
action.email.inline = 1
alert.digest_mode = True
alert.expires = 2m
alert.suppress = 0
alert.track = 1
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */5 * * * *
dispatch.earliest_time = rt-2m@m
dispatch.latest_time = rt
enableSched = 1
#search = index=f5_traffix_nmsagent sourcetype=nmsagent name=PeerNumberSentMessages OR name=PeerReceivedMessagesBeforeReadLimitDiscard OR ((name=PeerRemoteNodeEvents_OK OR name=PeerRemoteNodeEvents_TOO_BUSY OR name=PeerRemoteNodeEvents_CANNOT_ROUTE OR name=PeerRemoteNodeEvents_CHANNEL_DISCONNECTED OR name=PeerRemoteNodeEvents_TIMEOUT OR name=PeerRemoteNodeEvents_REQUEST_REJECTED OR name=PeerRemoteNodeEvents_DNS_PREPARING_POOL) AND nodetype=CPF) NOT [|inputlookup appPeers|search nodetype=FEP|dedup nodename|rename nodename AS elementname|table elementname]|stats sum(eval(name="PeerRemoteNodeEvents_OK")) AS ok sum(eval(name="PeerRemoteNodeEvents_TOO_BUSY")) AS busy sum(eval(name="PeerRemoteNodeEvents_CANNOT_ROUTE")) AS noroute sum(eval(name="PeerRemoteNodeEvents_CHANNEL_DISCONNECTED")) AS diconnected sum(eval(name="PeerRemoteNodeEvents_TIMEOUT")) AS timeout sum(eval(name="PeerRemoteNodeEvents_REQUEST_REJECTED")) As rejected sum(eval(name="PeerRemoteNodeEvents_DNS_PREPARING_POOL")) AS dnspool sum(eval(name="PeerNumberSentMessages")) AS sent sum(eval(name="PeerReceivedMessagesBeforeReadLimitDiscard")) AS received|fillnull sent,received,ok,busy,noroute,diconnected,timeout,rejected,dnspool|eval generated=(ok + busy + noroute + diconnected + timeout + rejected + dnspool)|eval result=round((sent-generated)*100/received)|table result
#search = index=f5_traffix_nmsagent sourcetype=nmsagent name=peerRemoteNodeEvents_* nodetype=CPF|eval RECORD_VALUE_OK=if(name="PeerRemoteNodeEvents_OK",RECORD_VALUE,0)|stats sum(RECORD_VALUE) AS all sum(RECORD_VALUE_OK) AS ok|eval result=round((ok/all)*100)|table result
search = index=f5_traffix_nmsagent (name=peerRemoteNodeEvents_* OR subline="*:*") nodetype=CPF OR nodetype=2|eval subline=if(subline!="",subline,name+":"+PARENTNAME+":"+RECORD_VALUE)|table name,RECORD_VALUE,subline|mvexpand subline|rex field=subline "(?<name>[\w\-\.]+):(?<parentname>[\w\-\.\*\/ ]*):(?<RECORD_VALUE>[\.0-9]*)"|search (name="PeerRemoteNodeEvents*" OR name="1" OR name="2" OR name="3" OR name="4" OR name="5" OR name="6" OR name="7" OR name="8" OR name="9")|eval RECORD_VALUE_OK=if((name="PeerRemoteNodeEvents_OK" OR name="1"),RECORD_VALUE,0)|stats sum(RECORD_VALUE) AS all sum(RECORD_VALUE_OK) AS ok|eval result=round((ok/all)*100)|table result

[dboard_tripoConcurrentSessions]
action.email.inline = 1
alert.digest_mode = True
alert.expires = 2m
alert.suppress = 0
alert.track = 1
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */5 * * * *
dispatch.earliest_time = rt-1h
dispatch.latest_time = rt
enableSched = 1
# LocalOccupiedDBInstances is kept for backward compatibility (4.0.2)
search = index=f5_traffix_nmsagent sourcetype=F5_Traffix_nmsagent name=EStMasterOccupied OR name=EStMasterOccupied OR name=EStSlaveOccupied|bucket span=1m _time|dedup _time sitename name|timechart sum(RECORD_VALUE) by sitename

[dboard_globalMessagesPerSecondPerSite]
action.email.inline = 1
alert.digest_mode = True
alert.expires = 2m
alert.suppress = 0
alert.track = 1
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */5 * * * *
dispatch.earliest_time = rt-1h
dispatch.latest_time = rt
enableSched = 1
#search = index=f5_traffix_nmsagent sourcetype=nmsagent name=PeerReceivedMessages OR name=PeerSentMessages nodetype=CPF [|inputlookup append=t appPeers|dedup nodename|table nodename|rename nodename AS elementname]|eval RECORD_VALUE=round(RECORD_VALUE/60)|timechart sum(RECORD_VALUE) AS summary by sitename
#search = index=f5_traffix_nmsagent typename=PEER OR typename=1 nodetype=CPF OR nodetype=2 (name=PeerReceivedMessages OR name=PeerSentMessages OR subline="*:*") NOT [|inputlookup append=t appPeers|search nodetype=FEP OR nodetype=1|dedup nodename|rename nodename AS elementname|table elementname]|eval subline=if(subline!="",subline,name+":"+PARENTNAME+":"+RECORD_VALUE)|table _time,sitename,name,parentname,RECORD_VALUE,subline|mvexpand subline|rex field=subline "(?<name>[\w\-\.]+):(?<parentname>[\w\-\.\/ ]*):(?<RECORD_VALUE>[\.0-9]*)"|search name=PeerReceivedMessages OR name=PeerSentMessages OR name=12 OR name=10|eval RECORD_VALUE=round(RECORD_VALUE/60)|timechart sum(RECORD_VALUE) AS summary by sitename
search = index=f5_traffix_nmsagent typename=PEER OR typename=1 nodetype=CPF OR nodetype=2 (name=PeerReceivedMessages OR name=PeerSentMessages OR subline="*:*") NOT [|inputlookup append=t appPeers|search nodetype=FEP OR nodetype=1|dedup nodename|rename nodename AS elementname|table elementname]|fillnull name PARENTNAME RECORD_VALUE|eval subline=if(subline!="",subline,name+":"+PARENTNAME+":"+RECORD_VALUE)|fields _time,sitename,name,parentname,RECORD_VALUE,subline|mvexpand subline|rex field=subline "(?<name>[\w\-\.]+):(?<parentname>[\w\-\.\*\/ ]*):(?<RECORD_VALUE>[\.0-9]*)"|search name=PeerReceivedMessages OR name=PeerSentMessages OR name=12 OR name=10|eval RECORD_VALUE=RECORD_VALUE/60|timechart sum(RECORD_VALUE) AS summary by sitename

[roaming_export]
action.email.inline = 1
action.script = 1
action.script.filename = roaming_export.sh
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */30 * * * *
dispatch.earliest_time = -35m@m
dispatch.latest_time = -5m@m
enableSched = 1
search = index=f5_traffix_roaming|sort 0 + _time|convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime|table htime,Origin_Realm,Origin_Host,Destination_Realm,Destination_Host,CMD_Code,Result_Code,Origin_Host_Request,Origin_Host_Answer,Diameter_Result_Code,IMSI,Roundtrip_Time,Source_Application_Id,Destination_Application_Id,Destination_Command_Code,Flow_Total_Time,Original_Request_Length,Sending_Request_Length,Original_Response_Length,Answer_To_Client_Length,Original_Result_Code,AVP_1,AVP_2,AVP_3,AVP_4,AVP_5|outputcsv singlefile=true tdr_export.csv

[manual_roaming_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */30 * * * *
search = index=f5_traffix_roaming|sort 0 + _time|convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime|table htime,Origin_Realm,Origin_Host,Destination_Realm,Destination_Host,CMD_Code,Result_Code,Origin_Host_Request,Origin_Host_Answer,Diameter_Result_Code,IMSI,Roundtrip_Time,Source_Application_Id,Destination_Application_Id,Destination_Command_Code,Flow_Total_Time,Original_Request_Length,Sending_Request_Length,Original_Response_Length,Answer_To_Client_Length,Original_Result_Code,AVP_1,AVP_2,AVP_3,AVP_4,AVP_5|outputcsv singlefile=true tdr_manual_export.csv

[snmptraps_export]
action.email.inline = 1
action.script = 1
action.script.filename = snmptraps_export.sh
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -65m@m
dispatch.latest_time = -5m@m
enableSched = 1
search = index=f5_traffix_snmptrapd |eval RAW=_raw|rex mode=sed field=RAW "s/\s*genericTrap\s+=\s+\..*//"|rex mode=sed field=RAW "s/Enterprise Specific\.+/0./"|rex mode=sed field=RAW "s/ip\s*=.*//"|rex mode=sed field=RAW "s/(\s*)genericTrap\s+=(.*?)/\1\2/"| sort 0 + _time| table RAW|outputcsv singlefile=true snmptraps_export.csv

[nmsagent_getSystemView]
action.email.inline = 1
alert.expires = 2m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = * * * * *
dispatch.earliest_time = -1m
dispatch.latest_time = now
enableSched = 1
search = index="f5_traffix_nmsagent" sourcetype="F5_Traffix_nmsagent" typename=service OR typename=host OR typename=22 OR typename=21 |dedup sitename elementname name|append [|set diff [|inputlookup sysHosts|dedup sitename|table sitename] [search index="f5_traffix_nmsagent" sourcetype="F5_Traffix_nmsagent" name=nmskeepalive|dedup sitename|table sitename]|eval statuscode="DOWN"|eval STATUS_OUTPUT="Site is down (No data received)"|table sitename elementname name statuscode STATUS_OUTPUT]|rex field=name "(?<name>.*)(-prim.*|-clone.*)"|table sitename elementname name statuscode STATUS_OUTPUT|rename sitename AS Site elementname AS "Host/Device" name AS "Service/Resource" statuscode AS Status STATUS_OUTPUT AS Cause|sort Status|replace "1" with "Service is down" IN Cause|replace "null" with ""|outputlookup systemView


[dboard_totalHealth_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent sourcetype=F5_Traffix_nmsagent typename=Service OR typename=22 | bucket span=15m _time | convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime  | dedup _time,sitename,elementname,name,parentname| chart count by htime  statuscode | outputcsv singlefile=true EMS_report_Dashboard_Health_export.csv




[dboard_successVsTotalMessages_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent (name=peerRemoteNodeEvents_* OR subline="*:*") nodetype=CPF OR nodetype=2|eval subline=if(subline!="",subline,name+":"+PARENTNAME+":"+RECORD_VALUE)|bucket span=15m _time|table _time,name,RECORD_VALUE,subline|mvexpand subline|rex field=subline "(?<name>[\w\-\.]+):(?<parentname>[\w\-\.\/ ]*):(?<RECORD_VALUE>[\.0-9]*)"|search (name="PeerRemoteNodeEvents*" OR name="1" OR name="2" OR name="3" OR name="4" OR name="5" OR name="6" OR name="7" OR name="8" OR name="9")|eval RECORD_VALUE_OK=if((name="PeerRemoteNodeEvents_OK" OR name="1"),RECORD_VALUE,0)|stats sum(RECORD_VALUE) AS all sum(RECORD_VALUE_OK) AS ok by _time |eval result=round((ok/all)*100)|sort 0 + _time|convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime |table htime, result  | outputcsv singlefile=true EMS_report_Dashboard_SuccessTotalRequest_export.csv


[SDCKPI_usedMemory_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent (typename=4 OR typename=NODE) AND (name=44 OR name=NodeMemoryUsage) | bucket span=15m _time | dedup _time,sitename,elementname | sort 0 + _time | convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime|eval MemoryUsedinMB=(RECORD_VALUE/(1024*1024))| rename elementname as Processname | table htime, sitename,Processname,MemoryUsedinMB | outputcsv singlefile=true EMS_report_SDCKPI_usedMemory_export.csv

[MonitoringSystemViewServiceStatus_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index="f5_traffix_nmsagent" sourcetype="F5_Traffix_nmsagent" typename=service OR typename=host OR typename=22 OR typename=21 |bucket span=15m _time| convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime|dedup sitename elementname name|append [|set diff [|inputlookup sysHosts|dedup sitename|table sitename] [search index="f5_traffix_nmsagent" sourcetype="F5_Traffix_nmsagent" name=nmskeepalive|dedup sitename|table sitename]|eval statuscode="DOWN"|eval STATUS_OUTPUT="Site is down (No data received)"|search sitename=$sitename$|table sitename elementname name statuscode STATUS_OUTPUT]|rex field=name "(?<name>;.*)(-prim.*|-clone.*)"|table htime sitename elementname name statuscode STATUS_OUTPUT|rename sitename AS Site elementname AS "Host/Device" name AS "Service/Resource" statuscode AS Status STATUS_OUTPUT AS Cause|sort Status|replace "1" with "Service is down" IN Cause|replace "null" with "" | outputcsv singlefile=true EMS_report_MonitoringSystemViewServiceStatus_export.csv


[SystemPerformanceLoadAverage_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent sourcetype=F5_Traffix_nmsagent typename=resource OR typename=23 name=loadaverage1min| timechart span=15m useother="f" limit=0 avg(RECORD_VALUE) by elementname|rename LoadAverage1Min AS "Load average" | convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) AS htime| fields - _time _span| table htime * |outputcsv singlefile=true EMS_report_SystemPerformanceLoadAverage_export.csv


[SystemPerformanceCPUUsageperHost_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent sourcetype=F5_Traffix_nmsagent typename=resource OR typename=23  name=idlecpu | eval value=100 - RECORD_VALUE|timechart span=15m useother="f" limit=0 avg(value) by elementname|rename IdleCpu AS "Idle cpu" | convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) AS htime| fields - _time _span| table htime * |outputcsv singlefile=true EMS_report_SystemPerformanceCPUUsageperHost_export.csv

[SystemPerformanceFreePhysicalMemory_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent sourcetype=F5_Traffix_nmsagent typename=resource  OR typename=23 name=freerealmemory| timechart span=15m useother="f" limit=0 avg(RECORD_VALUE) by elementname|rename FreeMemory AS "Free memory"| convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) AS htime| fields - _time _span| table htime * |outputcsv singlefile=true EMS_report_SystemPerformanceFreePhysicalMemory_export.csv

[SDCNodeKPIsNumberofActivePeers_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent (typename=4 OR typename=NODE) AND (name=56 OR name=TotalNumberOfOpenedPeers) | timechart span=15m useother="f" limit=0 avg(RECORD_VALUE) by elementname | convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) AS htime| fields - _time _span| table htime * | outputcsv singlefile=true EMS_report_SDCNodeKPIsNumberofActivePeers_export.csv


[SDCNodeKPIsNumberofPeers_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent (typename=4 OR typename=NODE) AND (name=55 OR name=TotalNumberOfPeers)| timechart span=15m  useother="f" limit=0 avg(RECORD_VALUE) by elementname | convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) AS htime| fields - _time _span| table htime *| outputcsv singlefile=true EMS_report_SDCNodeKPIsNumberofPeers_export.csv



[PasedIncomingMessagePerSecond_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent (typename=4 OR typename=NODE) AND (name=38 OR name=NodeTotalParsedMessages) | eval RECORD_VALUE=RECORD_VALUE/60 |timechart span=15m useother="f" limit=0 avg(RECORD_VALUE) by elementname |convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime| fields - _time _span| table htime * | outputcsv singlefile=true  EMS_report_SDCKPI_PasedIncomingMessagePerSecond_export.csv

[TotalPasedAnswersPerSecond_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent (typename=4 OR typename=NODE) AND (name=41 OR name=NodeTotalParsedAnswers)| eval RECORD_VALUE=RECORD_VALUE/60 |timechart span=15m useother="f" limit=0 avg(RECORD_VALUE) by elementname |convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime | fields - _time _span| table htime *| outputcsv singlefile=true  EMS_report_SDCKPI_TotalPasedAnswersPerSecond_export.csv




[SDCKPI_PasedIncomingMessagePerSecond_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent (typename=4 OR typename=NODE) AND (name=37 OR name=NodeParsedMessages)  |eval RECORD_VALUE=RECORD_VALUE/60 |timechart span=15m useother="f" limit=0 per_minute(RECORD_VALUE) by PARENTNAME |convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime | fields - _time _span| table htime *| outputcsv singlefile=true EMS_report_SDCKPI_PasedIncomingMessagePerSecond_export.csv

[SDCKPI_TotalPasedAnswersPerSecond_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent (typename=4 OR typename=NODE) AND (name=41 OR name=NodeTotalParsedAnswers)  |eval RECORD_VALUE=RECORD_VALUE/60 |timechart span=15m useother="f" limit=0 avg(RECORD_VALUE) by elementname |convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime | fields - _time _span |table htime * | outputcsv singlefile=true EMS_report_SDCKPI_TotalPasedAnswersPerSecond_export.csv

[SDCNodeKPITotalParsedIncomingMessagesPerSecond_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent (typename=4 OR typename=NODE) AND (name=38 OR name=NodeTotalParsedMessages)  |eval RECORD_VALUE=RECORD_VALUE/60 |timechart span=15m useother="f" limit=0 avg(RECORD_VALUE) by elementname |convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime | fields - _time _span |table htime * | outputcsv singlefile=true EMS_report_SDCNodeKPITotalParsedIncomingMessagesPerSecond_export.csv

[SDCNodeKPITotalParsedRequestsPerSecond_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent (typename=4 OR typename=NODE) AND (name=40 OR name=NodeTotalParsedRequests)  |eval RECORD_VALUE=RECORD_VALUE/60 |timechart span=15m useother="f" limit=0 avg(RECORD_VALUE) by elementname| eval "CHO % USAGE"=((DEAW01_cpf1+DEAW02_cpf1)/200)*100|eval "NEO % USAGE"=((DEAX01_cpf1+DEAX02_cpf1)/200)*100  |convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime | fields - _time _span | table htime "CHO % USAGE" "NEO % USAGE" * | outputcsv singlefile=true EMS_report_SDCNodeKPITotalParsedRequestsPerSecond_export.csv
 
[RemotePeersKPISentMessagesbyMessageTypePerSecond_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent (typename=1 OR typename=PEER) AND (subline="10:*" OR name=PeerSentMessages) NOT [|inputlookup appPeers|dedup nodename|rename nodename AS elementname|table elementname]  |eval subline=if(subline!="",subline,name+":"+PARENTNAME+":"+RECORD_VALUE)|table _time elementname nodename subline|mvexpand subline|rex field=subline "(?<name>[\w\-\.]+):(?<PARENTNAME>[\w\-\.\/ ]*):(?<RECORD_VALUE>[\.0-9]*)" |eval RECORD_VALUE=RECORD_VALUE/60 |search name=10 OR name=PeerSentMessages|timechart span=15m useother="f" limit=0 per_minute(RECORD_VALUE) by PARENTNAME |convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime | fields - _time _span |table htime * | outputcsv singlefile=true EMS_report_RemotePeersKPISentMessagesbyMessageTypePerSecond_export.csv


[RemotePeersKPIReceivedMessagesBeforeReadDiscardPerSecond_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent  (typename=1 OR typename=PEER) AND (subline="29:*" OR name=PeerReceivedMessagesBeforeReadLimitDiscard) NOT [|inputlookup appPeers|dedup nodename|rename nodename AS elementname|table elementname]  |eval subline=if(subline!="",subline,name+":"+PARENTNAME+":"+RECORD_VALUE)|table _time elementname nodename subline|mvexpand subline|rex field=subline "(?<name>[\w\-\.]+):(?<PARENTNAME>[\w\-\.\/ ]*):(?<RECORD_VALUE>[\.0-9]*)" |eval RECORD_VALUE=RECORD_VALUE/60 |search name=29 OR name=PeerReceivedMessagesBeforeReadLimitDiscard|timechart span=15m useother="f" limit=0 avg(RECORD_VALUE) by elementname |convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime | fields - _time _span |table htime * | outputcsv singlefile=true EMS_report_RemotePeersKPIReceivedMessagesBeforeReadDiscardPerSecond_export.csv


[RemotePeersKPIReceivedMessagesbyMessageTypePerSecond_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent (typename=1 OR typename=PEER) AND (subline="12:*" OR name=PeerReceivedMessages) NOT [|inputlookup appPeers|dedup nodename|rename nodename AS elementname|table elementname]  |eval subline=if(subline!="",subline,name+":"+PARENTNAME+":"+RECORD_VALUE)|table _time elementname nodename subline|mvexpand subline|rex field=subline "(?<name>[\w\-\.]+):(?<PARENTNAME>[\w\-\.\/ ]*):(?<RECORD_VALUE>[\.0-9]*)" |eval RECORD_VALUE=RECORD_VALUE/60 |search name=12 OR name=PeerReceivedMessages|timechart span=15m useother="f" limit=0 per_minute(RECORD_VALUE) by PARENTNAME |convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime | fields - _time _span |table htime * | outputcsv singlefile=true EMS_report_RemotePeersKPIReceivedMessagesbyMessageTypePerSecond_export.csv

[RemotePeersKPISentMessagesPerSecond_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent  (typename=1 OR typename=PEER) AND (subline="32:*" OR name=PeerNumberSentMessages) NOT [|inputlookup appPeers|dedup nodename|rename nodename AS elementname|table elementname]  |eval subline=if(subline!="",subline,name+":"+PARENTNAME+":"+RECORD_VALUE) |table _time elementname nodename subline|mvexpand subline|rex field=subline "(?<name>[\w\-\.]+):(?<PARENTNAME>[\w\-\.\/ ]*):(?<RECORD_VALUE>[\.0-9]*)" |eval RECORD_VALUE=RECORD_VALUE/60 |search name=32 OR name=PeerNumberSentMessages |timechart span=15m useother="f" limit=0 max(RECORD_VALUE) by elementname |convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime | fields - _time _span |table htime * | outputcsv singlefile=true EMS_report_RemotePeersKPISentMessagesPerSecond_export.csv

[RemotePeersKPIPeerAverageRoundTripTime_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent  (typename=1 OR typename=PEER) AND (subline="22:*" OR name=PeerRoundtripTimeAverage) NOT [|inputlookup appPeers|dedup nodename|rename nodename AS elementname|table elementname]  |eval subline=if(subline!="",subline,name+":"+PARENTNAME+":"+RECORD_VALUE)|table _time elementname nodename subline|mvexpand subline|rex field=subline "(?<name>[\w\-\.]+):(?<PARENTNAME>[\w\-\.\/ ]*):(?<RECORD_VALUE>[\.0-9]*)"  |search name=22 OR name=PeerRoundtripTimeAverage|timechart span=15m useother="f" limit=0 avg(RECORD_VALUE) by elementname |convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime | fields - _time _span |table htime * | outputcsv singlefile=true EMS_report_RemotePeersKPIPeerAverageRoundTripTime_export.csv




[TransactionKPIResultCodeDistributionPerPeerbymessagetype_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index="f5_traffix_nmsagent" (typename=1 OR typename=PEER) AND (name="PeerRemoteNodeEvents*" OR subline="*:*") NOT [|inputlookup appPeers|search nodetype=FEP OR nodetype=1|dedup nodename|rename nodename AS elementname|table elementname]|sort - _time|eval subline=if(subline!="",subline,name+":"+PARENTNAME+":"+RECORD_VALUE)|bucket _time span=15m|table _time,sitename,nodename,elementname,parentname,name,RECORD_VALUE,subline|mvexpand subline|rex field=subline "(?<name>[\w\-\.]+):(?<parentname>[\w\-\.\/ ]*):(?<RECORD_VALUE>[\.0-9]*)" |bucket _time span=15m|convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) AS htime|table htime,sitename,nodename,elementname,parentname,name,RECORD_VALUE|search (name="PeerRemoteNodeEvents*" OR name="1" OR name="2" OR name="3" OR name="4" OR name="5" OR name="6" OR name="7" OR name="8" OR name="9") |rename sitename AS Site nodename AS Node elementname AS Origin-host parentname AS Message-type name AS Result-code RECORD_VALUE AS Events-per-minute|replace PeerRemoteNodeEvents_OK WITH ok 1 WITH ok PeerRemoteNodeEvents_TOO_BUSY WITH busy 2 WITH busy PeerRemoteNodeEvents_CANNOT_ROUTE WITH "app error" 3 WITH "app error" PeerRemoteNodeEvents_CHANNEL_DISCONNECTED WITH "app error" 4 WITH "app error" PeerRemoteNodeEvents_TIMEOUT WITH "t/o" 5 WITH "t/o" PeerRemoteNodeEvents_REQUEST_REJECTED WITH "app error" 6 WITH "app error" PeerRemoteNodeEvents_REDIRECT WITH "app error" 7 WITH "app error" PeerRemoteNodeEvents_DNS_PREPARING_POOL WITH "app error" 8 WITH "app error" PeerRemoteNodeEvents_APPLICATION_ERROR WITH "app error" 9 WITH "app error" in Result-code |stats sum(Events-per-minute) as EventsPerMinute by htime,Origin-host,Result-code| table htime, Origin-host,Result-code,EventsPerMinute | outputcsv singlefile=true EMS_report_TransactionKPIResultCodeDistributionPerPeerbymessagetype_export.csv

[SDCNodeKPIAnswerFlowOverallHandleTime_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent (typename=4 OR typename=NODE) AND (name=47 OR name=AnswerFlowHandleTime)|timechart span=15m useother="f" limit=0 eval(avg(RECORD_VALUE)/2) by elementname  | convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime | fields - _time _span|table htime *| outputcsv singlefile=true EMS_report_SDCNodeKPIAnswerFlowOverallHandleTime_export.csv

[SDCNodeKPIFlowTotalCompletionTime_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent (typename=4 OR typename=NODE) AND (name=49 OR name=FlowTotalCompletionTime) |timechart span=15m useother="f" limit=0 eval(avg(RECORD_VALUE)/2) by elementname  | convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime | fields - _time _span |table htime *| outputcsv singlefile=true EMS_report_SDCNodeKPIFlowTotalCompletionTime_export.csv
#ORIGINAL 15 interval search = index=f5_traffix_nmsagent (typename=4 OR typename=NODE) AND (name=49 OR name=FlowTotalCompletionTime) |timechart span=15m useother="f" limit=0 eval(avg(RECORD_VALUE)/2) by elementname  | convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime | fields - _time span |table htime *| outputcsv singlefile=true EMS_report_SDCNodeKPIFlowTotalCompletionTime_export.csv

[SDCKPI_GlobalReadLimitDiscardPerSecond_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent (typename=4 OR typename=NODE) AND (name=33 OR name=NodeDiscardedMessagesDueToGlobalReadLimit)  |eval RECORD_VALUE=RECORD_VALUE/60 |timechart span=15m useother="f" limit=0 max(RECORD_VALUE) by elementname | convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime | fields - _time _span |table htime *| outputcsv singlefile=true EMS_report_SDCKPI_GlobalReadLimitDiscardPerSecond_export.csv

[SDCKPI_NodeReadLimitDiscardPerSecond_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent (typename=4 OR typename=NODE) AND (name=34 OR name=NodeDiscardedMessagesDueToReadLimit)  |eval RECORD_VALUE=RECORD_VALUE/60 |timechart span=15m useother="f" limit=0 max(RECORD_VALUE) by elementname | convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime | fields - _time _span |table htime *| outputcsv singlefile=true EMS_report_SDCKPI_NodeReadLimitDiscardPerSecond_export.csv

[RemotePeersKPIPeerLocalReadLimitMessageDiscardsPerSecond_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent (typename=1 OR typename=PEER) AND (subline="30:*" OR name=PeerDiscardedMessagesDueToChannelReadLimit) NOT [|inputlookup appPeers|dedup nodename|rename nodename AS elementname|table elementname]  |eval subline=if(subline!="",subline,name+":"+PARENTNAME+":"+RECORD_VALUE)|table _time elementname nodename subline|mvexpand subline|rex field=subline "(?<name>[\w\-\.]+):(?<PARENTNAME>[\w\-\.\/ ]*):(?<RECORD_VALUE>[\.0-9]*)" |eval RECORD_VALUE=RECORD_VALUE/60 |search name=30 OR name=PeerDiscardedMessagesDueToChannelReadLimit|timechart span=15m useother="f" limit=0 avg(RECORD_VALUE) by elementname  | convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime | fields - _time _span |table htime *| outputcsv singlefile=true  EMS_report_RemotePeersKPIPeerLocalReadLimitMessageDiscardsPerSecond_export.csv

[RemotePeersKPIPeerReadLimitMessageDiscardsPerSecond_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent (typename=1 OR typename=PEER) AND (subline="31:*" OR name=PeerDiscardedMessagesDueToRateLimit) NOT [|inputlookup appPeers|dedup nodename|rename nodename AS elementname|table elementname]  |eval subline=if(subline!="",subline,name+":"+PARENTNAME+":"+RECORD_VALUE)|table _time elementname nodename subline|mvexpand subline|rex field=subline "(?<name>[\w\-\.]+):(?<PARENTNAME>[\w\-\.\/ ]*):(?<RECORD_VALUE>[\.0-9]*)" |eval RECORD_VALUE=RECORD_VALUE/60 |search name=31 OR name=PeerDiscardedMessagesDueToRateLimit|timechart span=15m useother="f" limit=0 avg(RECORD_VALUE) by elementname | convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime | fields - _time _span |table htime * | outputcsv singlefile=true EMS_report_RemotePeersKPIPeerReadLimitMessageDiscardsPerSecond_export.csv


[SDCNodeKPIRequestFlowOverallHandleTime_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent (typename=4 OR typename=NODE) AND (name=45 OR name=RequestFlowHandleTime) |timechart span=15m useother="f" limit=0 eval(avg(RECORD_VALUE)/2) by elementname  | convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime | fields - _time _span |table htime * | outputcsv singlefile=true EMS_report_SDCNodeKPIRequestFlowOverallHandleTime_export.csv

[SDCNodeKPIAnswerFlowHandleTimebyProtocol_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent (typename=4 OR typename=NODE) AND (name=48 OR name=ProtocolAnswerFlowHandleTime) |timechart span=15m useother="f" limit=0 eval(avg(RECORD_VALUE)/2) by PARENTNAME | convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime | fields - _time _span |table htime * | outputcsv singlefile=true EMS_report-SDCNodeKPIAnswerFlowHandleTimebyProtocol_export.csv

[SDCNodeKPIRequestFlowHandleTimebyProtocol_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent  (typename=4 OR typename=NODE) AND (name=46 OR name=ProtocolRequestFlowHandleTime)  |timechart span=15m useother="f" limit=0 eval(avg(RECORD_VALUE)/2) by PARENTNAME | convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime | fields - _time _span |table htime * | outputcsv singlefile=true EMS_report_SDCNodeKPIRequestFlowHandleTimebyProtocol_export.csv


[RemotePeersKPIDiscardedMessagesbyMessageTypePerSecond_export]
action.email.inline = 1
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent  (typename=1 OR typename=PEER) AND (subline="11:*" OR name=PeerDiscardedMessages) NOT [|inputlookup appPeers|dedup nodename|rename nodename AS elementname|table elementname]  |eval subline=if(subline!="",subline,name+":"+PARENTNAME+":"+RECORD_VALUE)|table _time elementname nodename subline|mvexpand subline|rex field=subline "(?<name>[\w\-\.]+):(?<PARENTNAME>[\w\-\.\/ ]*):(?<RECORD_VALUE>[\.0-9]*)" |eval RECORD_VALUE=RECORD_VALUE/60 |search name=11 OR name=PeerDiscardedMessages|timechart useother="f" limit=0 avg(RECORD_VALUE) by elementname | convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime | fields - _time _span |table htime * | outputcsv singlefile=true EMS_report_RemotePeersKPIDiscardedMessagesbyMessageTypePerSecond_export.csv

[dboard_globalMessagesPerSecond_export]
action.email.inline = 1
action.email.reportServerEnabled = 0
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent typename=PEER OR typename=1 nodetype=CPF OR nodetype=2 (name=PeerReceivedMessages OR name=PeerSentMessages OR subline="*:*") NOT [|inputlookup append=t appPeers|search nodetype=FEP OR nodetype=1|dedup nodename|rename nodename AS elementname|table elementname]|eval subline=if(subline!="",subline,name+":"+PARENTNAME+":"+RECORD_VALUE)|bucket span=15m _time|table _time,sitename,elementname,nodename,name,RECORD_VALUE,subline|mvexpand subline|rex field=subline "(?<name>[\w\-\.]+):(?<parentname>[\w\-\.\/ ]*):(?<RECORD_VALUE>[\.0-9]*)"|search name=PeerReceivedMessages OR name=PeerSentMessages OR name=12 OR name=10|eval all=sitename+elementname+nodename+name+parentname | stats sum(RECORD_VALUE) as value  by _time |eval value=round(value/900)|sort 0 + _time|eval Usage-Percent=(value/200)*100 |convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime |  table htime,value,Usage-Percent| outputcsv singlefile=true EMS_report_Dashboard_GlobalMessagePerSecond_export.csv
vsid = *:lvry35z3

[SDCKPI_MessagePerSecond_export]
action.email.inline = 1
action.email.reportServerEnabled = 0
alert.expires = 5m
alert.severity = 1
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -23h@h
cron_schedule = 58 23 * * *
dispatch.earliest_time = -23h@h
dispatch.latest_time = now
enableSched = 1
search = index=f5_traffix_nmsagent  typename=PEER OR typename=1 nodetype=CPF OR nodetype=2 (name=PeerReceivedMessages OR name=PeerSentMessages OR subline="*:*") NOT [|inputlookup append=t appPeers|search nodetype=FEP OR nodetype=1|dedup nodename|rename nodename AS elementname|table elementname]|eval subline=if(subline!="",subline,name+":"+PARENTNAME+":"+RECORD_VALUE)|table _time,sitename,name,parentname,nodename,RECORD_VALUE,subline|mvexpand subline|rex field=subline "(?<name>[\w\-\.]+):(?<parentname>[\w\-\.\/ ]*):(?<RECORD_VALUE>[\.0-9]*)"|search name=PeerReceivedMessages OR name=PeerSentMessages OR name=12 OR name=10|eval RECORD_VALUE=round(RECORD_VALUE/60)|timechart span=15m useother="f" limit=0 per_minute(RECORD_VALUE) AS summary by nodename  | convert timeformat="%m/%d/%Y %H:%M:%S.%3Q" ctime(_time) as htime | fields - _time _span |table htime *| outputcsv singlefile=true EMS_report_SDCKPI_MessagePerSecond_export.csv
vsid = *:gau6xjdt








